{% extends 'layout.html' %}
{% block content %}
<!-- Content -->
<div class="w3-content" style="max-width:1100px;margin-top:80px;margin-bottom:80px">

  <div class="w3-center w3-padding-64">
    <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16"></span>
  </div>

  <form class="w3-container" method="post" action="/image_infer" enctype="multipart/form-data">
    <div class="w3-section">
      <label class="w3-text-black"><b>Seed image</b></label>
      <input class="w3-input w3-border w3-hover-border-black" type="file" name="seedImage" accept="image/*">
    </div>

    <div class="w3-section">
      <label class="w3-text-black"><b>Prompt</b></label>
      <textarea
        class="w3-input w3-border w3-hover-border-black"
        name="prompt"
        rows="3"
        placeholder="Describe your dream outfit—style, colors, and mood—and we’ll bring it to life."
        required
      ></textarea>
    </div>

    <div class="w3-row-padding">
      <div class="w3-half">
        <label class="w3-text-black"><b>Width</b></label>
        <input class="w3-input w3-border w3-hover-border-black" name="width" type="number" value="768">
      </div>
      <div class="w3-half">
        <label class="w3-text-black"><b>Height</b></label>
        <input class="w3-input w3-border w3-hover-border-black" name="height" type="number" value="960">
      </div>
    </div>

    <div class="w3-row-padding" style="margin-top:8px">
      <div class="w3-half">
        <label class="w3-text-black"><b>Strength (0–1)</b></label>
        <input class="w3-input w3-border w3-hover-border-black" name="strength" type="number" step="0.05" min="0" max="1" value="0.8">
      </div>
      <div class="w3-half">
        <label class="w3-text-black"><b>Model (optional)</b></label>
        <input class="w3-input w3-border w3-hover-border-black" name="model" type="text" placeholder="e.g., flux/schnell or a Runware AIR id" value="runware:101@1">
      </div>
    </div>

    <div class="w3-section">
      <button class="w3-button w3-block w3-black" type="submit">Transform</button>
    </div>
  </form>
</div>
<h2>Generated Images</h2>
<div style="display: flex; flex-wrap: wrap; gap: 1rem;">
  <img src="{{ image }}" alt="Generated image" style="max-width: 300px; height: auto; border: 1px solid #ccc; border-radius: 8px;">
</div>
{% endblock %}